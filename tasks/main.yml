# tasks file for twisted-connect-proxy
---
- include: install.yml
  tags:
    - configuration
    - twisted-connect-proxy
    - twisted-connect-proxy-install

- include: user.yml
  tags:
    - configuration
    - twisted-connect-proxy
    - twisted-connect-proxy-user

- include: service-upstart.yml
  when: ansible_service_mgr != 'systemd'
  tags:
    - configuration
    - twisted-connect-proxy
    - twisted-connect-proxy-service
    - twisted-connect-proxy-service-upstart

- include: service-systemd.yml
  when: ansible_service_mgr == 'systemd'
  tags:
    - configuration
    - twisted-connect-proxy
    - twisted-connect-proxy-service
    - twisted-connect-proxy-service-systemd

- name: start and enable service
  service:
    name: twisted-connect-proxy
    state: started
    enabled: true
  tags:
    - configuration
    - twisted-connect-proxy
    - twisted-connect-proxy-start-enable-service
